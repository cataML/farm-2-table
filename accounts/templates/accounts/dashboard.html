{% extends "base.html" %}

{% block content %}
  <h1 class="dashboard-heading">Welcome to your Dashboard</h1>
<p class="dashboard-subtext">You are logged in as {{ user.username }}</p>

<div class="dashboard-container">
  <h1 class="dashboard-name">Welcome, {{ user.first_name }}!</h1>

  <!-- Browse Products -->
  <section class="dashboard-section">
    <h2>Browse Fresh Products</h2>
    <a href="{% url 'product_list' %}" class="btn">Shop Now</a>
  </section>

  <!-- My Orders -->
  <section class="dashboard-section">
    <h2>My Recent Orders</h2>
    {% if orders %}
      <ul class="order-list">
        {% for order in orders %}
          <li>
            Order #{{ order.id }} - {{ order.status }} - {{ order.created_at|date:"M d, Y" }}
          </li>
        {% endfor %}
      </ul>
      <a href="{% url 'order_history' %}" class="link">View All Orders</a>
    {% else %}
      <p>You haven't placed any orders yet.</p>
    {% endif %}
  </section>

  <!-- Cart Summary -->
  <section class="dashboard-section">
    <h2>Your Cart</h2>
    <p>You have {{ cart_items_count }} items in your cart.</p>
    <a href="{% url 'cart:view_cart' %}" class="btn">Go to Cart</a>
  </section>

  <!-- Saved Products/Farms -->
  <section class="dashboard-section">
    <h2>Saved Items</h2>
    {% if saved_items %}
      <ul>
        {% for item in saved_items %}
          <li>{{ item.name }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No saved items yet.</p>
    {% endif %}
  </section>

  <!-- Account -->
  <section class="dashboard-section account-actions">
    <a href="{% url 'edit_profile' %}" class="link">Edit Profile</a> |
    <a href="{% url 'logout' %}" class="link">Logout</a>
  </section>
</div>
<style>
  .dashboard-heading,
.dashboard-name {
  font-size: 1.5rem;
  margin: 1rem 0 0.5rem;
  text-align: center;
}

.dashboard-subtext {
  text-align: center;
  font-size: 1rem;
  margin-bottom: 1rem;
}

.dashboard-container {
  padding: 1rem;
  max-width: 100%;
  box-sizing: border-box;
}

.dashboard-section {
  margin-bottom: 2rem;
  background: #f9f9f9;
  padding: 1rem;
  border-radius: 0.5rem;
}

.btn {
  display: inline-block;
  background-color: #4CAF50;
  color: white;
  padding: 0.6rem 1.2rem;
  text-decoration: none;
  border-radius: 0.4rem;
  font-size: 1rem;
  width: 97px;
 margin-left: 45%;
}

.link {
  color: #007BFF;
  text-decoration: none;
  font-size: 1rem;
}

.link:hover,
.btn:hover {
  text-decoration: underline;
  opacity: 0.9;
}

.order-list {
  list-style: none;
  padding: 0;
  margin: 1rem 0;
}

.order-list li {
  padding: 0.5rem 0;
  border-bottom: 1px solid #ddd;
  font-size: 0.95rem;
}

/* ðŸ“± Mobile-First - Already Optimized */

/* ðŸ–¥ For tablets and up */
@media (min-width: 768px) {
  .dashboard-container {
    max-width: 720px;
    margin: 0 auto;
  }

  .dashboard-heading,
  .dashboard-name {
    font-size: 2rem;
  }
}

/* ðŸ–¥ðŸ’» For desktops and large screens */
@media (min-width: 1024px) {
  .dashboard-container {
    max-width: 960px;
  }

  .dashboard-section {
    padding: 1.5rem;
  }

  .btn {
    font-size: 1.1rem;
  }
}
</style>
{% endblock %}